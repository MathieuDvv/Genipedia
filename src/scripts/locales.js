/**
 * Localization system for AIpedia
 */

// Default locale is English
let currentLocale = 'en';

// Locale data for different languages
const locales = {
    // English
    'en': {
        // Search
        'search_placeholder': 'Search for any topic...',
        'search_button': 'Search',
        'estimated_time': 'Estimated wait time: {0} seconds',
        'history_toggle': 'Search History',
        'no_history': 'No search history yet',
        'delete_from_history': 'Delete from history',
        
        // Writing styles
        'writing_style': 'Writing Style',
        'style_normal': 'Normal',
        'style_formal': 'Formal',
        'style_accessible': 'Accessible',
        'style_explanatory': 'Explanatory',
        'style_concise': 'Concise',
        
        // Age-targeted writing styles
        'age_0_10': 'Age 0-10',
        'age_11_16': 'Age 11-16',
        'age_17_25': 'Age 17-25',
        'age_25_plus': 'Age 25+',
        
        // Audio player
        'listen_to_summary': 'Listen to the summary',
        'tts_not_available': 'Text-to-speech is not available for this article.',
        
        // Article
        'contents': 'Contents',
        'references': 'References',
        'geek_metrics': 'Generation Metrics',
        'generation_time': 'Generation time: {0}s',
        'tokens_used': 'Tokens used: ~{0}',
        'estimated_cost': 'Estimated cost: ${0}',
        
        // AI warning
        'ai_warning_title': 'AI-Generated Content',
        'ai_warning_message': 'This content was generated by AI and may contain inaccuracies. Always verify important information from reliable sources.',
        'i_understand': 'I understand',
        'remind_me_later': 'Remind me later',
        
        // Customization modal
        'customize_title': 'Customize Genipedia',
        'theme_title': 'Theme',
        'theme_light': 'Light',
        'theme_dark': 'Dark',
        'accent_color_title': 'Accent Color',
        'font_title': 'Font',
        'font_size_title': 'Font Size',
        'beta_features_title': 'Beta Features',
        'licenses_button': 'Licenses',
        'image_suggestion_title': 'AI Image Suggestion',
        'image_suggestion_description': 'Uses AI to suggest better image search terms for more relevant article images',
        'age_targeted_title': 'Age-Targeted Writing',
        'age_targeted_description': 'Adapts content to specific age groups with appropriate vocabulary and complexity',
        'tts_title': 'Text-to-Speech',
        'tts_description': 'Converts article summaries to natural-sounding speech',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'Free API',
        'tts_elevenlabs': 'ElevenLabs (Custom API Key)',
        'enter_api_key': 'Enter your ElevenLabs API key',
        'save_button': 'Save',
        
        // Article caching
        'article_caching_title': 'Article Caching',
        'article_caching_description': 'Saves articles and images locally to reduce loading times and API usage',
        
        // Donation banner
        'support_title': 'Support Genipedia',
        'support_message': 'If Genipedia is free, it\'s thanks to donations. Please consider donating to keep the project alive and cover the API costs.',
        'support_button': 'Support on Ko-Fi',
        'maybe_later': 'Maybe later',
        
        // Customization
        'customization': 'Customization',
        'theme': 'Theme',
        'light_theme': 'Light',
        'dark_theme': 'Dark',
        'accent_color': 'Accent Color',
        'font_family': 'Font Family',
        'font_size': 'Font Size',
        'small': 'Small',
        'medium': 'Medium',
        'large': 'Large',
        'close': 'Close',
        
        // API Settings
        'api_settings': 'API Settings',
        'elevenlabs_api_key': 'ElevenLabs API Key',
        'api_key_info': 'Required for text-to-speech functionality. Get your API key from',
        'save_api_key': 'Save',
        'api_key_saved': 'API key saved successfully',
        'api_key_set': 'API key is set',
        'api_key_invalid': 'Please enter a valid API key',
        
        // Error messages
        'error_title': 'Error Generating Article',
        'error_message': 'Sorry, we couldn\'t generate an article for your query. Please try again later.',
        
        // Beta Features
        'ai_image_suggestion': 'AI Image Suggestion',
        'ai_image_suggestion_desc': 'Uses AI to suggest better image search terms for more relevant article images',
        'text_to_speech': 'Text-to-Speech',
        'text_to_speech_desc': 'Converts article summaries to natural-sounding speech using ElevenLabs',
        'beta_info': 'Beta features may not work perfectly and could affect performance.',
        'licenses': 'Licenses',
        'report_bug': 'Report a Bug',
        'contact_us': 'If you\'ve encountered a bug or have any issues with Genipedia, please contact us at:',
        
        // Top banner
        'top_banner_message': 'üéâ First version of Genipedia is available üéâ  Consider donating!',
        'donate_button': 'Donate',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'This feature uses AI to suggest better image search terms for more relevant images. Beta features may not work perfectly and could affect performance.',
        'age_targeted_tooltip': 'This feature adapts the writing style to specific age groups. When enabled, it replaces the standard writing styles with age-targeted options.',
        'tts_tooltip': 'This feature uses text-to-speech to convert article summaries to speech. By default, a free API is used, but you can also use ElevenLabs for higher quality.',
        'article_caching_tooltip': 'This feature saves articles and images locally to reduce loading times and API usage. Disable if you prefer not to store content on your device.',
    },
    
    // French
    'fr': {
        // Search
        'search_placeholder': 'Rechercher un sujet...',
        'search_button': 'Rechercher',
        'estimated_time': 'Temps d\'attente estim√©: {0} secondes',
        'history_toggle': 'Historique de recherche',
        'no_history': 'Pas encore d\'historique de recherche',
        'delete_from_history': 'Supprimer de l\'historique',
        
        // Writing styles
        'writing_style': 'Style d\'√©criture',
        'style_normal': 'Normal',
        'style_formal': 'Formel',
        'style_accessible': 'Accessible',
        'style_explanatory': 'Explicatif',
        'style_concise': 'Concis',
        
        // Age-targeted writing styles
        'age_0_10': '√Çge 0-10',
        'age_11_16': '√Çge 11-16',
        'age_17_25': '√Çge 17-25',
        'age_25_plus': '√Çge 25+',
        
        // Audio player
        'listen_to_summary': '√âcouter le r√©sum√©',
        'tts_not_available': 'La synth√®se vocale n\'est pas disponible pour cet article.',
        
        // Article
        'contents': 'Sommaire',
        'references': 'R√©f√©rences',
        'geek_metrics': 'M√©triques de G√©n√©ration',
        'generation_time': 'Temps de g√©n√©ration: {0}s',
        'tokens_used': 'Tokens utilis√©s: ~{0}',
        'estimated_cost': 'Co√ªt estim√©: ${0}',
        
        // AI warning
        'ai_warning_title': 'Contenu g√©n√©r√© par IA',
        'ai_warning_message': 'Ce contenu a √©t√© g√©n√©r√© par une IA et peut contenir des inexactitudes. V√©rifiez toujours les informations importantes aupr√®s de sources fiables.',
        'i_understand': 'Je comprends',
        'remind_me_later': 'Me le rappeler plus tard',
        
        // Customization modal
        'customize_title': 'Personnaliser Genipedia',
        'theme_title': 'Th√®me',
        'theme_light': 'Clair',
        'theme_dark': 'Sombre',
        'accent_color_title': 'Couleur d\'accent',
        'font_title': 'Police',
        'font_size_title': 'Taille de police',
        'beta_features_title': 'Fonctionnalit√©s B√™ta',
        'licenses_button': 'Licences',
        'image_suggestion_title': 'Suggestion d\'Images par IA',
        'image_suggestion_description': 'Utilise l\'IA pour sugg√©rer de meilleurs termes de recherche d\'images pour des articles plus pertinents',
        'age_targeted_title': '√âcriture √Çge-Cibl√©e',
        'age_targeted_description': 'Adapte le contenu aux groupes d\'√¢ge avec le vocabulaire et la complexit√© appropri√©s',
        'tts_title': 'Synth√®se Vocale',
        'tts_description': 'Convertit les r√©sum√©s d\'articles en voix naturelle',
        'tts_api_label': 'API TTS:',
        'tts_free_api': 'API Gratuit',
        'tts_elevenlabs': 'ElevenLabs (Cl√© API Personnalis√©e)',
        'enter_api_key': 'Entrez votre cl√© API ElevenLabs',
        'save_button': 'Enregistrer',
        
        // Article caching
        'article_caching_title': 'Mise en cache des Articles',
        'article_caching_description': 'Enregistre les articles et les images localement pour r√©duire les temps de chargement et l\'utilisation de l\'API',
        
        // Donation banner
        'support_title': 'Soutenez Genipedia',
        'support_message': 'Si Genipedia est gratuit, c\'est gr√¢ce aux dons. Merci de consid√©rer un don pour maintenir le projet en vie et couvrir les co√ªts des API.',
        'support_button': 'Soutenir sur Ko-Fi',
        'maybe_later': 'Peut-√™tre plus tard',
        
        // Customization
        'customization': 'Personnalisation',
        'theme': 'Th√®me',
        'light_theme': 'Clair',
        'dark_theme': 'Sombre',
        'accent_color': 'Couleur d\'accent',
        'font_family': 'Police',
        'font_size': 'Taille de police',
        'small': 'Petite',
        'medium': 'Moyenne',
        'large': 'Grande',
        'close': 'Fermer',
        
        // API Settings
        'api_settings': 'Param√®tres API',
        'elevenlabs_api_key': 'Cl√© API ElevenLabs',
        'api_key_info': 'N√©cessaire pour la fonctionnalit√© de synth√®se vocale. Obtenez votre cl√© API sur',
        'save_api_key': 'Enregistrer',
        'api_key_saved': 'Cl√© API enregistr√©e avec succ√®s',
        'api_key_set': 'La cl√© API est d√©finie',
        'api_key_invalid': 'Veuillez entrer une cl√© API valide',
        
        // Error messages
        'error_title': 'Erreur de g√©n√©ration d\'article',
        'error_message': 'D√©sol√©, nous n\'avons pas pu g√©n√©rer un article pour votre requ√™te. Veuillez r√©essayer plus tard.',
        
        // Beta Features
        'ai_image_suggestion': 'Suggestion d\'Images par IA',
        'ai_image_suggestion_desc': 'Utilise l\'IA pour sugg√©rer de meilleurs termes de recherche d\'images pour des articles plus pertinents',
        'text_to_speech': 'Synth√®se Vocale',
        'text_to_speech_desc': 'Convertit les r√©sum√©s d\'articles en voix naturelle avec ElevenLabs',
        'beta_info': 'Les fonctionnalit√©s b√™ta peuvent ne pas fonctionner parfaitement et pourraient affecter les performances.',
        'licenses': 'Licences',
        'report_bug': 'Signaler un Bug',
        'contact_us': 'Si vous avez rencontr√© un bug ou avez des probl√®mes avec Genipedia, veuillez nous contacter √† :',
        
        // Top banner
        'top_banner_message': 'üéâ La premi√®re version de Genipedia est disponible üéâ  Pensez √† faire un don ! ',
        'donate_button': 'Faire un don',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Cette fonctionnalit√© utilise l\'IA pour sugg√©rer de meilleurs termes de recherche d\'images pour des r√©sultats plus pertinents. Les fonctionnalit√©s b√™ta peuvent ne pas fonctionner parfaitement et pourraient affecter les performances.',
        'age_targeted_tooltip': 'Cette fonctionnalit√© adapte le style d\'√©criture √† des groupes d\'√¢ge sp√©cifiques. Lorsqu\'elle est activ√©e, elle remplace les styles d\'√©criture standard par des options cibl√©es par √¢ge.',
        'tts_tooltip': 'Cette fonctionnalit√© utilise la synth√®se vocale pour convertir les r√©sum√©s d\'articles en discours. Par d√©faut, une API gratuite est utilis√©e, mais vous pouvez √©galement utiliser ElevenLabs pour une meilleure qualit√©.',
        'article_caching_tooltip': 'Cette fonctionnalit√© enregistre les articles et les images localement pour r√©duire les temps de chargement et l\'utilisation de l\'API. D√©sactivez-la si vous pr√©f√©rez ne pas stocker de contenu sur votre appareil.',
    },
    
    // Spanish
    'es': {
        // Search
        'search_placeholder': 'Buscar cualquier tema...',
        'search_button': 'Buscar',
        'estimated_time': 'Tiempo de espera estimado: {0} segundos',
        'history_toggle': 'Historial de b√∫squeda',
        'no_history': 'A√∫n no hay historial de b√∫squeda',
        'delete_from_history': 'Eliminar del historial',
        
        // Writing styles
        'writing_style': 'Estilo de escritura',
        'style_normal': 'Normal',
        'style_formal': 'Formal',
        'style_accessible': 'Accesible',
        'style_explanatory': 'Explicativo',
        'style_concise': 'Conciso',
        
        // Age-targeted writing styles
        'age_0_10': 'Edad 0-10',
        'age_11_16': 'Edad 11-16',
        'age_17_25': 'Edad 17-25',
        'age_25_plus': 'Edad 25+',
        
        // Audio player
        'listen_to_summary': 'Escuchar el resumen',
        'tts_not_available': 'La s√≠ntesis de voz no est√° disponible para este art√≠culo.',
        
        // Article
        'contents': 'Contenido',
        'references': 'Referencias',
        'geek_metrics': 'M√©tricas de Generaci√≥n',
        'generation_time': 'Tiempo de generaci√≥n: {0}s',
        'tokens_used': 'Tokens utilizados: ~{0}',
        'estimated_cost': 'Costo estimado: ${0}',
        
        // AI warning
        'ai_warning_title': 'Contenido generado por IA',
        'ai_warning_message': 'Este contenido fue generado por IA y puede contener inexactitudes. Verifique siempre la informaci√≥n importante en fuentes confiables.',
        'i_understand': 'Entiendo',
        'remind_me_later': 'Record√°rmelo m√°s tarde',
        
        // Customization modal
        'customize_title': 'Personalizar Genipedia',
        'theme_title': 'Tema',
        'theme_light': 'Claro',
        'theme_dark': 'Oscuro',
        'accent_color_title': 'Color de acento',
        'font_title': 'Tipo de letra',
        'font_size_title': 'Tama√±o de letra',
        'beta_features_title': 'Funciones Beta',
        'licenses_button': 'Licencias',
        'image_suggestion_title': 'Sugerencia de Im√°genes por IA',
        'image_suggestion_description': 'Utiliza IA para sugerir mejores t√©rminos de b√∫squeda de im√°genes para art√≠culos m√°s relevantes',
        'age_targeted_title': 'Escritura √Çge-Ciblada',
        'age_targeted_description': 'Adapta el contenido a grupos de edad con vocabulario y complejidad apropiados',
        'tts_title': 'Texto a Voz',
        'tts_description': 'Convierte res√∫menes de art√≠culos en voz natural',
        'tts_api_label': 'API TTS:',
        'tts_free_api': 'API Gratuita',
        'tts_elevenlabs': 'ElevenLabs (Clave API Personalizada)',
        'enter_api_key': 'Ingrese su clave API ElevenLabs',
        'save_button': 'Guardar',
        
        // Article caching
        'article_caching_title': 'Almacenamiento de Art√≠culos',
        'article_caching_description': 'Guarda art√≠culos y im√°genes localmente para reducir los tiempos de carga y el uso de la API',
        
        // Donation banner
        'support_title': 'Apoya a Genipedia',
        'support_message': 'Si Genipedia es gratuito, es gracias a las donaciones. Por favor, considera donar para mantener vivo el proyecto y cubrir los costos de API.',
        'support_button': 'Apoyar en Ko-Fi',
        'maybe_later': 'Quiz√°s m√°s tarde',
        
        // Customization
        'customization': 'Personalizaci√≥n',
        'theme': 'Tema',
        'light_theme': 'Claro',
        'dark_theme': 'Oscuro',
        'accent_color': 'Color de acento',
        'font_family': 'Tipo de letra',
        'font_size': 'Tama√±o de letra',
        'small': 'Peque√±o',
        'medium': 'Mediano',
        'large': 'Grande',
        'close': 'Cerrar',
        
        // API Settings
        'api_settings': 'Configuraci√≥n API',
        'elevenlabs_api_key': 'Clave API ElevenLabs',
        'api_key_info': 'Necesario para la funcionalidad de s√≠ntesis de voz. Obtener su clave API en',
        'save_api_key': 'Guardar',
        'api_key_saved': 'Clave API guardada correctamente',
        'api_key_set': 'La clave API est√° configurada',
        'api_key_invalid': 'Ingrese una clave API v√°lida',
        
        // Error messages
        'error_title': 'Error al generar el art√≠culo',
        'error_message': 'Lo sentimos, no pudimos generar un art√≠culo para su consulta. Por favor, int√©ntelo de nuevo m√°s tarde.',
        
        // Beta Features
        'ai_image_suggestion': 'Sugerencia de Im√°genes por IA',
        'ai_image_suggestion_desc': 'Utiliza IA para sugerir mejores t√©rminos de b√∫squeda de im√°genes para art√≠culos m√°s relevantes',
        'text_to_speech': 'Texto a Voz',
        'text_to_speech_desc': 'Convierte res√∫menes de art√≠culos en voz natural usando ElevenLabs',
        'beta_info': 'Las funciones beta pueden no funcionar perfectamente y podr√≠an afectar el rendimiento.',
        'licenses': 'Licencias',
        'report_bug': 'Reportar un Error',
        'contact_us': 'Si has encontrado un error o tienes problemas con Genipedia, cont√°ctanos en:',
        
        // Top banner
        'top_banner_message': 'üéâ La primera versi√≥n de Genipedia est√° disponible üéâ  Considera donar!',
        'donate_button': 'Donar',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Esta funci√≥n utiliza IA para sugerir mejores t√©rminos de b√∫squeda de im√°genes para resultados m√°s relevantes. Las funciones beta pueden no funcionar perfectamente y podr√≠an afectar el rendimiento.',
        'age_targeted_tooltip': 'Esta funci√≥n adapta el estilo de escritura a grupos de edad espec√≠ficos. Cuando est√° habilitada, reemplaza los estilos de escritura est√°ndar con opciones dirigidas por edad.',
        'tts_tooltip': 'Esta funci√≥n utiliza texto a voz para convertir los res√∫menes de art√≠culos en discurso. Por defecto, se utiliza una API gratuita, pero tambi√©n puede usar ElevenLabs para una mayor calidad.',
        'article_caching_tooltip': 'Esta funci√≥n guarda art√≠culos e im√°genes localmente para reducir los tiempos de carga y el uso de API. Desact√≠vela si prefiere no almacenar contenido en su dispositivo.',
    },
    
    // German
    'de': {
        // Search
        'search_placeholder': 'Suche nach einem Thema...',
        'search_button': 'Suchen',
        'estimated_time': 'Gesch√§tzte Wartezeit: {0} Sekunden',
        'history_toggle': 'Suchverlauf',
        'no_history': 'Noch kein Suchverlauf',
        'delete_from_history': 'Aus Verlauf l√∂schen',
        
        // Writing styles
        'writing_style': 'Schreibstil',
        'style_normal': 'Normal',
        'style_formal': 'Formell',
        'style_accessible': 'Zug√§nglich',
        'style_explanatory': 'Erkl√§rend',
        'style_concise': 'Pr√§gnant',
        
        // Age-targeted writing styles
        'age_0_10': 'Alter 0-10',
        'age_11_16': 'Alter 11-16',
        'age_17_25': 'Alter 17-25',
        'age_25_plus': 'Alter 25+',
        
        // Audio player
        'listen_to_summary': 'Zusammenfassung anh√∂ren',
        'tts_not_available': 'Text-to-Speech ist f√ºr diesen Artikel nicht verf√ºgbar.',
        
        // Article
        'contents': 'Inhalt',
        'references': 'Referenzen',
        'geek_metrics': 'Generierungsmetriken',
        'generation_time': 'Generierungszeit: {0}s',
        'tokens_used': 'Verwendete Tokens: ~{0}',
        'estimated_cost': 'Gesch√§tzte Kosten: ${0}',
        
        // AI warning
        'ai_warning_title': 'KI-generierter Inhalt',
        'ai_warning_message': 'Dieser Inhalt wurde von einer KI generiert und kann Ungenauigkeiten enthalten. √úberpr√ºfen Sie wichtige Informationen immer anhand zuverl√§ssiger Quellen.',
        'i_understand': 'Ich verstehe',
        'remind_me_later': 'Sp√§ter erinnern',
        
        // Customization modal
        'customize_title': 'Genipedia anpassen',
        'theme_title': 'Thema',
        'theme_light': 'Hell',
        'theme_dark': 'Dunkel',
        'accent_color_title': 'Akzentfarbe',
        'font_title': 'Schriftart',
        'font_size_title': 'Schriftgr√∂√üe',
        'beta_features_title': 'Beta-Funktionen',
        'licenses_button': 'Lizenzen',
        'image_suggestion_title': 'KI-Bildvorschl√§ge',
        'image_suggestion_description': 'Verwendet KI, um bessere Bildsuchbegriffe f√ºr relevantere Artikelbilder vorzuschlagen',
        'age_targeted_title': '√Çge-zielende Schrift',
        'age_targeted_description': 'Passt den Inhalt an bestimmte Altersgruppen mit dem passenden Vokabular und der Komplexit√§t an',
        'tts_title': 'Text-zu-Sprache',
        'tts_description': 'Konvertiert Artikelzusammenfassungen in nat√ºrlich klingende Sprache',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'Freie API',
        'tts_elevenlabs': 'ElevenLabs (Custom API Key)',
        'enter_api_key': 'ElevenLabs API-Schl√ºssel eingeben',
        'save_button': 'Speichern',
        
        // Article caching
        'article_caching_title': 'Artikel-Caching',
        'article_caching_description': 'Artikel und Bilder lokal speichern, um Ladezeiten und API-Nutzung zu reduzieren',
        
        // Donation banner
        'support_title': 'Unterst√ºtze Genipedia',
        'support_message': 'Wenn Genipedia kostenlos ist, dann dank Spenden. Bitte erw√§ge eine Spende, um das Projekt am Leben zu erhalten und die API-Kosten zu decken.',
        'support_button': 'Auf Ko-Fi unterst√ºtzen',
        'maybe_later': 'Vielleicht sp√§ter',
        
        // Customization
        'customization': 'Anpassung',
        'theme': 'Thema',
        'light_theme': 'Hell',
        'dark_theme': 'Dunkel',
        'accent_color': 'Akzentfarbe',
        'font_family': 'Schriftart',
        'font_size': 'Schriftgr√∂√üe',
        'small': 'Klein',
        'medium': 'Mittel',
        'large': 'Gro√ü',
        'close': 'Schlie√üen',
        
        // API Settings
        'api_settings': 'API-Einstellungen',
        'elevenlabs_api_key': 'ElevenLabs API-Schl√ºssel',
        'api_key_info': 'Erforderlich f√ºr die Sprachsynthese. API-Schl√ºssel erhalten Sie von',
        'save_api_key': 'Speichern',
        'api_key_saved': 'API-Schl√ºssel erfolgreich gespeichert',
        'api_key_set': 'API-Schl√ºssel ist eingestellt',
        'api_key_invalid': 'Geben Sie eine g√ºltige API-Schl√ºssel ein',
        
        // Error messages
        'error_title': 'Fehler beim Generieren des Artikels',
        'error_message': 'Entschuldigung, wir konnten keinen Artikel f√ºr Ihre Anfrage generieren. Bitte versuchen Sie es sp√§ter erneut.',
        
        // Beta Features
        'ai_image_suggestion': 'KI-Bildvorschl√§ge',
        'ai_image_suggestion_desc': 'Verwendet KI, um bessere Bildsuchbegriffe f√ºr relevantere Artikelbilder vorzuschlagen',
        'text_to_speech': 'Text-zu-Sprache',
        'text_to_speech_desc': 'Konvertiert Artikelzusammenfassungen in nat√ºrlich klingende Sprache mit ElevenLabs',
        'beta_info': 'Beta-Funktionen funktionieren m√∂glicherweise nicht perfekt und k√∂nnten die Leistung beeintr√§chtigen.',
        'licenses': 'Lizenzen',
        'report_bug': 'Fehler Melden',
        'contact_us': 'Wenn Sie einen Fehler gefunden haben oder Probleme mit Genipedia haben, kontaktieren Sie uns bitte unter:',
        
        // Top banner
        'top_banner_message': 'üéâ Die erste Version von Genipedia ist verf√ºgbar üéâ  Spenden Sie bitte!',
        'donate_button': 'Spenden',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Diese Funktion verwendet KI, um bessere Bildsuchbegriffe f√ºr relevantere Ergebnisse vorzuschlagen. Beta-Funktionen funktionieren m√∂glicherweise nicht perfekt und k√∂nnten die Leistung beeintr√§chtigen.',
        'age_targeted_tooltip': 'Diese Funktion passt den Schreibstil an bestimmte Altersgruppen an. Wenn aktiviert, ersetzt sie die Standard-Schreibstile durch altersspezifische Optionen.',
        'tts_tooltip': 'Diese Funktion verwendet Text-zu-Sprache, um Artikelzusammenfassungen in Sprache umzuwandeln. Standardm√§√üig wird eine kostenlose API verwendet, aber Sie k√∂nnen auch ElevenLabs f√ºr h√∂here Qualit√§t verwenden.',
        'article_caching_tooltip': 'Diese Funktion speichert Artikel und Bilder lokal, um Ladezeiten und API-Nutzung zu reduzieren. Deaktivieren Sie sie, wenn Sie es vorziehen, keine Inhalte auf Ihrem Ger√§t zu speichern.',
    },
    
    // Japanese
    'ja': {
        // Search
        'search_placeholder': '„Éà„Éî„ÉÉ„ÇØ„ÇíÊ§úÁ¥¢...',
        'search_button': 'Ê§úÁ¥¢',
        'estimated_time': 'Êé®ÂÆöÂæÖ„Å°ÊôÇÈñì: {0}Áßí',
        'history_toggle': 'Ê§úÁ¥¢Â±•Ê≠¥',
        'no_history': 'Ê§úÁ¥¢Â±•Ê≠¥„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì',
        'delete_from_history': 'Â±•Ê≠¥„Åã„ÇâÂâäÈô§',
        
        // Writing styles
        'writing_style': 'Êñá‰Ωì',
        'style_normal': 'Ê®ôÊ∫ñ',
        'style_formal': 'ÂΩ¢ÂºèÁöÑ',
        'style_accessible': 'ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ',
        'style_explanatory': 'Ë™¨ÊòéÁöÑ',
        'style_concise': 'Á∞°ÊΩî',
        
        // Age-targeted writing styles
        'age_0_10': 'Âπ¥ÈΩ¢ 0-10',
        'age_11_16': 'Âπ¥ÈΩ¢ 11-16',
        'age_17_25': 'Âπ¥ÈΩ¢ 17-25',
        'age_25_plus': 'Âπ¥ÈΩ¢ 25+',
        
        // Audio player
        'listen_to_summary': 'Ë¶ÅÁ¥Ñ„ÇíËÅû„Åè',
        'tts_not_available': '„Åì„ÅÆË®ò‰∫ã„Åß„ÅØÈü≥Â£∞Ë™≠„Åø‰∏ä„Åí„ÅØÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ',
        
        // Article
        'contents': 'ÁõÆÊ¨°',
        'references': 'ÂèÇËÄÉÊñáÁåÆ',
        'geek_metrics': 'ÁîüÊàê„É°„Éà„É™„ÇØ„Çπ',
        'generation_time': 'ÁîüÊàêÊôÇÈñì: {0}Áßí',
        'tokens_used': '‰ΩøÁî®„Éà„Éº„ÇØ„É≥Êï∞: ~{0}',
        'estimated_cost': 'Êé®ÂÆö„Ç≥„Çπ„Éà: ${0}',
        
        // AI warning
        'ai_warning_title': 'AIÁîüÊàê„Ç≥„É≥„ÉÜ„É≥„ÉÑ',
        'ai_warning_message': '„Åì„ÅÆ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅØAI„Å´„Çà„Å£„Å¶ÁîüÊàê„Åï„Çå„Å¶„Åä„Çä„ÄÅ‰∏çÊ≠£Á¢∫„Å™ÊÉÖÂ†±„ÅåÂê´„Åæ„Çå„Å¶„ÅÑ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇÈáçË¶Å„Å™ÊÉÖÂ†±„ÅØ‰ø°È†º„Åß„Åç„ÇãÊÉÖÂ†±Ê∫ê„ÅßÂøÖ„ÅöÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
        'i_understand': 'ÁêÜËß£„Åó„Åæ„Åó„Åü',
        'remind_me_later': 'Âæå„ÅßÈÄöÁü•',
        
        // Customization modal
        'customize_title': 'Genipedia„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫',
        'theme_title': '„ÉÜ„Éº„Éû',
        'theme_light': '„É©„Ç§„Éà',
        'theme_dark': '„ÉÄ„Éº„ÇØ',
        'accent_color_title': '„Ç¢„ÇØ„Çª„É≥„Éà„Ç´„É©„Éº',
        'font_title': '„Éï„Ç©„É≥„Éà',
        'font_size_title': '„Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫',
        'beta_features_title': '„Éô„Éº„ÇøÊ©üËÉΩ',
        'licenses_button': '„É©„Ç§„Çª„É≥„Çπ',
        'image_suggestion_title': 'AIÁîªÂÉèÊèêÊ°à',
        'image_suggestion_description': 'AI„Çí‰ΩøÁî®„Åó„Å¶„Çà„ÇäÈñ¢ÈÄ£ÊÄß„ÅÆÈ´ò„ÅÑË®ò‰∫ãÁîªÂÉè„ÅÆ„Åü„ÇÅ„ÅÆÊ§úÁ¥¢Áî®Ë™û„ÇíÊèêÊ°à',
        'age_targeted_title': 'Âπ¥ÈΩ¢Âà•ÊñáÁ´†',
        'age_targeted_description': 'ÈÅ©Âàá„Å™Ë®ÄËëâÈÅ£„ÅÑ„Å®Ë§áÈõë„Åï„ÅßÂÜÖÂÆπ„ÇíÂπ¥ÈΩ¢Â±§„Å´Âêà„Çè„Åõ„Çã',
        'tts_title': 'Èü≥Â£∞Ë™≠„Åø‰∏ä„Åí',
        'tts_description': 'Ë®ò‰∫ã„ÅÆË¶ÅÁ¥Ñ„ÇíËá™ÁÑ∂„Å™Â£∞„Å´Â§âÊèõ',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'ÁÑ°ÊñôAPI',
        'tts_elevenlabs': 'ElevenLabs („Ç´„Çπ„Çø„É†API„Ç≠„Éº)',
        'enter_api_key': 'ElevenLabs API„Ç≠„Éº„ÇíÂÖ•Âäõ',
        'save_button': '‰øùÂ≠ò',
        
        // Article caching
        'article_caching_title': 'Ë®ò‰∫ã„Ç≠„É£„ÉÉ„Ç∑„É•',
        'article_caching_description': 'Ë®ò‰∫ã„Å®ÁîªÂÉè„Çí„É≠„Éº„Ç´„É´„Å´‰øùÂ≠ò„Åó„Å¶„É≠„Éº„ÉâÊôÇÈñì„Å®API‰ΩøÁî®„ÇíÂâäÊ∏õ',
        
        // Donation banner
        'support_title': 'Genipedia„Çí„Çµ„Éù„Éº„Éà',
        'support_message': 'Genipedia„ÅåÁÑ°Êñô„ÅßÂà©Áî®„Åß„Åç„Çã„ÅÆ„ÅØ„ÄÅÂØÑ‰ªò„ÅÆ„Åä„Åã„Åí„Åß„Åô„ÄÇ„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆÁ∂ôÁ∂ö„Å®API„Ç≥„Çπ„Éà„Çí„Ç´„Éê„Éº„Åô„Çã„Åü„ÇÅ„Å´„ÄÅ„ÅîÂØÑ‰ªò„Çí„ÅîÊ§úË®é„Åè„Å†„Åï„ÅÑ„ÄÇ',
        'support_button': 'Ko-Fi„Åß„Çµ„Éù„Éº„Éà',
        'maybe_later': 'Âæå„Åß',
        
        // Customization
        'customization': '„Ç´„Çπ„Çø„Éû„Ç§„Ç∫',
        'theme': '„ÉÜ„Éº„Éû',
        'light_theme': '„É©„Ç§„Éà',
        'dark_theme': '„ÉÄ„Éº„ÇØ',
        'accent_color': '„Ç¢„ÇØ„Çª„É≥„Éà„Ç´„É©„Éº',
        'font_family': '„Éï„Ç©„É≥„Éà',
        'font_size': '„Éï„Ç©„É≥„Éà„Çµ„Ç§„Ç∫',
        'small': 'Â∞è',
        'medium': '‰∏≠',
        'large': 'Â§ß',
        'close': 'Èñâ„Åò„Çã',
        
        // API Settings
        'api_settings': 'APIË®≠ÂÆö',
        'elevenlabs_api_key': 'ElevenLabs API„Ç≠„Éº',
        'api_key_info': 'Èü≥Â£∞Ë™≠„Åø‰∏ä„ÅíÊ©üËÉΩ„Å´ÂøÖË¶Å„Åß„Åô„ÄÇAPI„Ç≠„Éº„ÅÆÂèñÂæóÂÖà:',
        'save_api_key': '‰øùÂ≠ò',
        'api_key_saved': 'API„Ç≠„Éº„ÅåÊ≠£Â∏∏„Å´‰øùÂ≠ò„Åï„Çå„Åæ„Åó„Åü',
        'api_key_set': 'API„Ç≠„Éº„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô',
        'api_key_invalid': 'ÊúâÂäπ„Å™API„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ',
        
        // Error messages
        'error_title': 'Ë®ò‰∫ãÁîüÊàê„Ç®„É©„Éº',
        'error_message': 'Áî≥„ÅóË®≥„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÇØ„Ç®„É™„Å´ÂØæ„Åô„ÇãË®ò‰∫ã„ÇíÁîüÊàê„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÂæå„Åß„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ',
        
        // Beta Features
        'ai_image_suggestion': 'AIÁîªÂÉèÊèêÊ°à',
        'ai_image_suggestion_desc': 'AI„Çí‰ΩøÁî®„Åó„Å¶„Çà„ÇäÈñ¢ÈÄ£ÊÄß„ÅÆÈ´ò„ÅÑË®ò‰∫ãÁîªÂÉè„ÅÆ„Åü„ÇÅ„ÅÆÊ§úÁ¥¢Áî®Ë™û„ÇíÊèêÊ°à',
        'text_to_speech': 'Èü≥Â£∞Ë™≠„Åø‰∏ä„Åí',
        'text_to_speech_desc': 'ElevenLabs„Çí‰ΩøÁî®„Åó„Å¶Ë®ò‰∫ã„ÅÆË¶ÅÁ¥Ñ„ÇíËá™ÁÑ∂„Å™Èü≥Â£∞„Å´Â§âÊèõ',
        'beta_info': '„Éô„Éº„ÇøÊ©üËÉΩ„ÅØÂÆåÂÖ®„Å´„ÅØÂãï‰Ωú„Åõ„Åö„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´ÂΩ±Èüø„Çí‰∏é„Åà„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
        'licenses': '„É©„Ç§„Çª„É≥„Çπ',
        'report_bug': '„Éê„Ç∞„ÇíÂ†±Âëä',
        'contact_us': '„Éê„Ç∞„ÅåÁô∫Áîü„Åó„ÅüÂ†¥Âêà„ÇÑ„ÄÅGenipedia„Å´Èñ¢„Åô„ÇãÂïèÈ°å„Åå„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„Çâ„ÄÅ‰ª•‰∏ã„ÅÆ„Ç¢„Éâ„É¨„Çπ„Åæ„Åß„ÅîÈÄ£Áµ°„Åè„Å†„Åï„ÅÑÔºö',
        
        // Top banner
        'top_banner_message': 'üéâ Genipedia„ÅÆÊúÄÂàù„ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅåÂà©Áî®ÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åó„Åü üéâ ÂØÑ‰ªò„Çí„ÅîÊ§úË®é„Åè„Å†„Åï„ÅÑ',
        'donate_button': 'ÂØÑ‰ªò„Åô„Çã',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': '„Åì„ÅÆÊ©üËÉΩ„ÅØAI„Çí‰ΩøÁî®„Åó„Å¶„ÄÅ„Çà„ÇäÈñ¢ÈÄ£ÊÄß„ÅÆÈ´ò„ÅÑÁµêÊûú„ÇíÂæó„Çã„Åü„ÇÅ„Å´„ÄÅ„Çà„ÇäÈÅ©Âàá„Å™ÁîªÂÉèÊ§úÁ¥¢Áî®Ë™û„ÇíÊèêÊ°à„Åó„Åæ„Åô„ÄÇ„Éô„Éº„ÇøÊ©üËÉΩ„ÅØÂÆåÂÖ®„Å´Ê©üËÉΩ„Åó„Å™„ÅÑÂ†¥Âêà„Åå„ÅÇ„Çä„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´ÂΩ±Èüø„Çí‰∏é„Åà„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
        'age_targeted_tooltip': '„Åì„ÅÆÊ©üËÉΩ„ÅØÁâπÂÆö„ÅÆÂπ¥ÈΩ¢Â±§„Å´Âêà„Çè„Åõ„Å¶ÊñáÁ´†„Çπ„Çø„Ç§„É´„ÇíË™øÊï¥„Åó„Åæ„Åô„ÄÇÊúâÂäπ„Å´„Åô„Çã„Å®„ÄÅÊ®ôÊ∫ñ„ÅÆÊñáÁ´†„Çπ„Çø„Ç§„É´„ÅåÂπ¥ÈΩ¢Âà•„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Å´ÁΩÆ„ÅçÊèõ„Çè„Çä„Åæ„Åô„ÄÇ',
        'tts_tooltip': '„Åì„ÅÆÊ©üËÉΩ„ÅØ„ÉÜ„Ç≠„Çπ„ÉàË™≠„Åø‰∏ä„Åí„Çí‰ΩøÁî®„Åó„Å¶„ÄÅË®ò‰∫ã„ÅÆË¶ÅÁ¥Ñ„ÇíÈü≥Â£∞„Å´Â§âÊèõ„Åó„Åæ„Åô„ÄÇ„Éá„Éï„Ç©„É´„Éà„Åß„ÅØÁÑ°Êñô„ÅÆAPI„Åå‰ΩøÁî®„Åï„Çå„Åæ„Åô„Åå„ÄÅ„Çà„ÇäÈ´òÂìÅË≥™„ÅÆ„Åü„ÇÅ„Å´ElevenLabs„Çí‰ΩøÁî®„Åô„Çã„Åì„Å®„ÇÇ„Åß„Åç„Åæ„Åô„ÄÇ',
        'article_caching_tooltip': '„Åì„ÅÆÊ©üËÉΩ„ÅØË®ò‰∫ã„Å®ÁîªÂÉè„Çí„É≠„Éº„Ç´„É´„Å´‰øùÂ≠ò„Åó„ÄÅË™≠„ÅøËæº„ÅøÊôÇÈñì„Å®API‰ΩøÁî®Èáè„ÇíÂâäÊ∏õ„Åó„Åæ„Åô„ÄÇ„Éá„Éê„Ç§„Çπ„Å´„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Çí‰øùÂ≠ò„Åó„Åü„Åè„Å™„ÅÑÂ†¥Âêà„ÅØÁÑ°Âäπ„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
    }
};

// Initialize the global AIPediaLocales object
window.AIPediaLocales = {
    locales: locales,
    
    /**
     * Gets a localized string by key
     * @param {string} key - The key to look up
     * @param {...any} args - Arguments to replace placeholders in the string
 * @returns {string} - The localized string
 */
    getLocaleString: function(key, ...args) {
    // Get the current locale data
    const localeData = locales[currentLocale] || locales['en'];
    
    // Get the string from the locale data
        let str = localeData[key] || key;
    
    // Replace placeholders with arguments
    if (args.length > 0) {
            args.forEach((arg, index) => {
                str = str.replace(`{${index}}`, arg);
        });
    }
    
    return str;
    },

/**
 * Sets the current locale
 * @param {string} locale - The locale code to set
 */
    setLocale: function(locale) {
    if (locales[locale]) {
        currentLocale = locale;
            // Save the locale to localStorage
            localStorage.setItem('aipedia_locale', locale);
            console.log('Locale set to:', locale);
            
            // Update UI with new locale
            this.updateUIWithLocale();
    } else {
            console.warn('Locale not found:', locale);
        }
    },
    
    /**
     * Gets the current locale
     * @returns {string} - The current locale code
     */
    getLocale: function() {
        return currentLocale;
    },

/**
 * Loads the saved locale from localStorage
 */
    loadSavedLocale: function() {
        try {
            // Try to get the browser language first if no saved locale
            const savedLocale = localStorage.getItem('aipedia_locale') || navigator.language.split('-')[0];
            
            if (savedLocale) {
                this.setLocale(savedLocale);
                
                // Update the language selector to match the saved locale
                const languageSelect = document.getElementById('language-select');
                if (languageSelect) {
                    // Check if the saved locale is available in the options
                    const options = Array.from(languageSelect.options);
                    const localeOption = options.find(option => option.value === savedLocale);
                    
                    if (localeOption) {
                        languageSelect.value = savedLocale;
                    }
                }
            }
        } catch (error) {
            console.error('Error loading saved locale:', error);
        }
    },
    
    /**
     * Updates the UI with the current locale
     */
    updateUIWithLocale: function() {
        try {
            // Update search placeholder
            const searchBar = document.getElementById('search-bar');
            if (searchBar) {
                searchBar.placeholder = this.getLocaleString('search_placeholder');
            }
            
            // Update search button
            const searchButton = document.getElementById('search-button');
            if (searchButton) {
                searchButton.textContent = this.getLocaleString('search_button');
            }
            
            // Update history toggle
            const historyToggle = document.querySelector('.history-toggle-text');
            if (historyToggle) {
                historyToggle.textContent = this.getLocaleString('history_toggle');
            }

            // Update writing style select label and options
            const writingStyleSelect = document.getElementById('writing-style-select');
            if (writingStyleSelect) {
                // Only update standard writing styles, not age-targeted ones
                const standardStyles = ['normal', 'formal', 'accessible', 'explanatory', 'concise'];
                const options = writingStyleSelect.options;
                
                for (let i = 0; i < options.length; i++) {
                    const option = options[i];
                    // Only update if it's a standard style
                    if (standardStyles.includes(option.value)) {
                        const styleKey = `style_${option.value}`;
                        option.textContent = this.getLocaleString(styleKey);
                    }
                }
            }
            
            // Update customization modal
            const customizeTitle = document.getElementById('customize-title');
            if (customizeTitle) {
                customizeTitle.textContent = this.getLocaleString('customize_title');
            }
            
            const themeTitle = document.getElementById('theme-title');
            if (themeTitle) {
                themeTitle.textContent = this.getLocaleString('theme_title');
            }
            
            const themeLightText = document.getElementById('theme-light-text');
            if (themeLightText) {
                themeLightText.textContent = this.getLocaleString('theme_light');
            }
            
            const themeDarkText = document.getElementById('theme-dark-text');
            if (themeDarkText) {
                themeDarkText.textContent = this.getLocaleString('theme_dark');
            }
            
            const accentColorTitle = document.getElementById('accent-color-title');
            if (accentColorTitle) {
                accentColorTitle.textContent = this.getLocaleString('accent_color_title');
            }
            
            const fontTitle = document.getElementById('font-title');
            if (fontTitle) {
                fontTitle.textContent = this.getLocaleString('font_title');
            }
            
            const fontSizeTitle = document.getElementById('font-size-title');
            if (fontSizeTitle) {
                fontSizeTitle.textContent = this.getLocaleString('font_size_title');
            }
            
            // Update beta features titles and descriptions
            const betaFeaturesTitle = document.getElementById('beta-features-title');
            if (betaFeaturesTitle) {
                betaFeaturesTitle.textContent = this.getLocaleString('beta_features_title');
            }
            
            // Image suggestion beta feature
            const imageSuggestionLabel = document.getElementById('image-suggestion-label');
            if (imageSuggestionLabel) {
                imageSuggestionLabel.textContent = this.getLocaleString('image_suggestion_title');
            }
            
            const imageSuggestionDesc = imageSuggestionLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (imageSuggestionDesc) {
                imageSuggestionDesc.textContent = this.getLocaleString('image_suggestion_description');
            }
            
            // Add tooltip translation for image suggestion
            const imageSuggestionTooltip = imageSuggestionLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (imageSuggestionTooltip) {
                imageSuggestionTooltip.textContent = this.getLocaleString('image_suggestion_tooltip');
            }
            
            // Age-targeted beta feature
            const ageTargetedLabel = document.getElementById('age-targeted-label');
            if (ageTargetedLabel) {
                ageTargetedLabel.textContent = this.getLocaleString('age_targeted_title');
            }
            
            const ageTargetedDesc = ageTargetedLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (ageTargetedDesc) {
                ageTargetedDesc.textContent = this.getLocaleString('age_targeted_description');
            }
            
            // Add tooltip translation for age-targeted
            const ageTargetedTooltip = ageTargetedLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (ageTargetedTooltip) {
                ageTargetedTooltip.textContent = this.getLocaleString('age_targeted_tooltip');
            }
            
            // Text-to-speech beta feature
            const elevenlabsLabel = document.getElementById('elevenlabs-label');
            if (elevenlabsLabel) {
                // Keep the beta tag and add the translation
                const betaTag = elevenlabsLabel.querySelector('.beta-tag');
                if (betaTag) {
                    elevenlabsLabel.textContent = '';
                    elevenlabsLabel.appendChild(betaTag);
                    elevenlabsLabel.appendChild(document.createTextNode(' ' + this.getLocaleString('tts_title')));
                } else {
                    elevenlabsLabel.textContent = this.getLocaleString('tts_title');
                }
            }
            
            const ttsDesc = elevenlabsLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (ttsDesc) {
                ttsDesc.textContent = this.getLocaleString('tts_description');
            }
            
            // Add tooltip translation for text-to-speech
            const ttsTooltip = elevenlabsLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (ttsTooltip) {
                ttsTooltip.textContent = this.getLocaleString('tts_tooltip');
            }
            
            // Article caching beta feature
            const articleCachingLabel = document.getElementById('article-caching-label');
            if (articleCachingLabel) {
                // Keep the beta tag and add the translation
                const betaTag = articleCachingLabel.querySelector('.beta-tag');
                if (betaTag) {
                    articleCachingLabel.textContent = '';
                    articleCachingLabel.appendChild(betaTag);
                    articleCachingLabel.appendChild(document.createTextNode(' ' + this.getLocaleString('article_caching_title')));
                } else {
                    articleCachingLabel.textContent = this.getLocaleString('article_caching_title');
                }
            }
            
            const cachingDesc = articleCachingLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (cachingDesc) {
                cachingDesc.textContent = this.getLocaleString('article_caching_description');
            }
            
            // Add tooltip translation for article caching
            const cachingTooltip = articleCachingLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (cachingTooltip) {
                cachingTooltip.textContent = this.getLocaleString('article_caching_tooltip');
            }
            
            // Update other UI elements as needed
            console.log('UI updated with locale:', currentLocale);
        } catch (error) {
            console.error('Error updating UI with locale:', error);
        }
    }
};

// Export functions for browser
if (typeof window !== 'undefined') {
    // When loaded as a regular script in the browser
    window.getLocaleString = (key, ...args) => window.AIPediaLocales.getLocaleString(key, ...args);
    window.setLocale = (locale) => window.AIPediaLocales.setLocale(locale);
    window.getLocale = () => window.AIPediaLocales.getLocale();
    window.updateUIWithLocale = () => window.AIPediaLocales.updateUIWithLocale();
    window.loadSavedLocale = () => window.AIPediaLocales.loadSavedLocale();
}

// For CommonJS environments
if (typeof module !== 'undefined' && module.exports) {
    module.exports = window.AIPediaLocales;
} 