/**
 * Localization system for AIpedia
 */

// Default locale is English
let currentLocale = 'en';

// Locale data for different languages
const locales = {
    // English
    'en': {
        // Search
        'search_placeholder': 'Search for any topic...',
        'search_button': 'Search',
        'estimated_time': 'Estimated wait time: {0} seconds',
        'history_toggle': 'Search History',
        'no_history': 'No search history yet',
        'delete_from_history': 'Delete from history',
        
        // Writing styles
        'writing_style': 'Writing Style',
        'style_normal': 'Normal',
        'style_formal': 'Formal',
        'style_accessible': 'Accessible',
        'style_explanatory': 'Explanatory',
        'style_concise': 'Concise',
        
        // Age-targeted writing styles
        'age_0_10': 'Age 0-10',
        'age_11_16': 'Age 11-16',
        'age_17_25': 'Age 17-25',
        'age_25_plus': 'Age 25+',
        
        // Audio player
        'listen_to_summary': 'Listen to the summary',
        'tts_not_available': 'Text-to-speech is not available for this article.',
        
        // Article
        'contents': 'Contents',
        'references': 'References',
        'geek_metrics': 'Generation Metrics',
        'generation_time': 'Generation time: {0}s',
        'tokens_used': 'Tokens used: ~{0}',
        'estimated_cost': 'Estimated cost: ${0}',
        
        // AI warning
        'ai_warning_title': 'AI-Generated Content',
        'ai_warning_message': 'This content was generated by AI and may contain inaccuracies. Always verify important information from reliable sources.',
        'i_understand': 'I understand',
        'remind_me_later': 'Remind me later',
        
        // Customization modal
        'customize_title': 'Customize Genipedia',
        'theme_title': 'Theme',
        'theme_light': 'Light',
        'theme_dark': 'Dark',
        'accent_color_title': 'Accent Color',
        'font_title': 'Font',
        'font_size_title': 'Font Size',
        'beta_features_title': 'Beta Features',
        'licenses_button': 'Licenses',
        'image_suggestion_title': 'AI Image Suggestion',
        'image_suggestion_description': 'Uses AI to suggest better image search terms for more relevant article images',
        'age_targeted_title': 'Age-Targeted Writing',
        'age_targeted_description': 'Adapts content to specific age groups with appropriate vocabulary and complexity',
        'tts_title': 'Text-to-Speech',
        'tts_description': 'Converts article summaries to natural-sounding speech',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'Free API',
        'tts_elevenlabs': 'ElevenLabs (Custom API Key)',
        'enter_api_key': 'Enter your ElevenLabs API key',
        'save_button': 'Save',
        
        // Article caching
        'article_caching_title': 'Article Caching',
        'article_caching_description': 'Saves articles and images locally to reduce loading times and API usage',
        
        // Donation banner
        'support_title': 'Support Genipedia',
        'support_message': 'If Genipedia is free, it\'s thanks to donations. Please consider donating to keep the project alive and cover the API costs.',
        'support_button': 'Support on Ko-Fi',
        'maybe_later': 'Maybe later',
        
        // Customization
        'customization': 'Customization',
        'theme': 'Theme',
        'light_theme': 'Light',
        'dark_theme': 'Dark',
        'accent_color': 'Accent Color',
        'font_family': 'Font Family',
        'font_size': 'Font Size',
        'small': 'Small',
        'medium': 'Medium',
        'large': 'Large',
        'close': 'Close',
        
        // API Settings
        'api_settings': 'API Settings',
        'elevenlabs_api_key': 'ElevenLabs API Key',
        'api_key_info': 'Required for text-to-speech functionality. Get your API key from',
        'save_api_key': 'Save',
        'api_key_saved': 'API key saved successfully',
        'api_key_set': 'API key is set',
        'api_key_invalid': 'Please enter a valid API key',
        
        // Error messages
        'error_title': 'Error Generating Article',
        'error_message': 'Sorry, we couldn\'t generate an article for your query. Please try again later.',
        
        // Beta Features
        'ai_image_suggestion': 'AI Image Suggestion',
        'ai_image_suggestion_desc': 'Uses AI to suggest better image search terms for more relevant article images',
        'text_to_speech': 'Text-to-Speech',
        'text_to_speech_desc': 'Converts article summaries to natural-sounding speech using ElevenLabs',
        'beta_info': 'Beta features may not work perfectly and could affect performance.',
        'licenses': 'Licenses',
        'report_bug': 'Report a Bug',
        'contact_us': 'If you\'ve encountered a bug or have any issues with Genipedia, please contact us at:',
        
        // Top banner
        'top_banner_message': 'ðŸŽ‰ First version of Genipedia is available ðŸŽ‰  Consider donating!',
        'donate_button': 'Donate',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'This feature uses AI to suggest better image search terms for more relevant images. Beta features may not work perfectly and could affect performance.',
        'age_targeted_tooltip': 'This feature adapts the writing style to specific age groups. When enabled, it replaces the standard writing styles with age-targeted options.',
        'tts_tooltip': 'This feature uses text-to-speech to convert article summaries to speech. By default, a free API is used, but you can also use ElevenLabs for higher quality.',
        'article_caching_tooltip': 'This feature saves articles and images locally to reduce loading times and API usage. Disable if you prefer not to store content on your device.',
    },
    
    // French
    'fr': {
        // Search
        'search_placeholder': 'Rechercher un sujet...',
        'search_button': 'Rechercher',
        'estimated_time': 'Temps d\'attente estimÃ©: {0} secondes',
        'history_toggle': 'Historique de recherche',
        'no_history': 'Pas encore d\'historique de recherche',
        'delete_from_history': 'Supprimer de l\'historique',
        
        // Writing styles
        'writing_style': 'Style d\'Ã©criture',
        'style_normal': 'Normal',
        'style_formal': 'Formel',
        'style_accessible': 'Accessible',
        'style_explanatory': 'Explicatif',
        'style_concise': 'Concis',
        
        // Age-targeted writing styles
        'age_0_10': 'Ã‚ge 0-10',
        'age_11_16': 'Ã‚ge 11-16',
        'age_17_25': 'Ã‚ge 17-25',
        'age_25_plus': 'Ã‚ge 25+',
        
        // Audio player
        'listen_to_summary': 'Ã‰couter le rÃ©sumÃ©',
        'tts_not_available': 'La synthÃ¨se vocale n\'est pas disponible pour cet article.',
        
        // Article
        'contents': 'Sommaire',
        'references': 'RÃ©fÃ©rences',
        'geek_metrics': 'MÃ©triques de GÃ©nÃ©ration',
        'generation_time': 'Temps de gÃ©nÃ©ration: {0}s',
        'tokens_used': 'Tokens utilisÃ©s: ~{0}',
        'estimated_cost': 'CoÃ»t estimÃ©: ${0}',
        
        // AI warning
        'ai_warning_title': 'Contenu gÃ©nÃ©rÃ© par IA',
        'ai_warning_message': 'Ce contenu a Ã©tÃ© gÃ©nÃ©rÃ© par une IA et peut contenir des inexactitudes. VÃ©rifiez toujours les informations importantes auprÃ¨s de sources fiables.',
        'i_understand': 'Je comprends',
        'remind_me_later': 'Me le rappeler plus tard',
        
        // Customization modal
        'customize_title': 'Personnaliser Genipedia',
        'theme_title': 'ThÃ¨me',
        'theme_light': 'Clair',
        'theme_dark': 'Sombre',
        'accent_color_title': 'Couleur d\'accent',
        'font_title': 'Police',
        'font_size_title': 'Taille de police',
        'beta_features_title': 'FonctionnalitÃ©s BÃªta',
        'licenses_button': 'Licences',
        'image_suggestion_title': 'Suggestion d\'Images par IA',
        'image_suggestion_description': 'Utilise l\'IA pour suggÃ©rer de meilleurs termes de recherche d\'images pour des articles plus pertinents',
        'age_targeted_title': 'Ã‰criture Ã‚ge-CiblÃ©e',
        'age_targeted_description': 'Adapte le contenu aux groupes d\'Ã¢ge avec le vocabulaire et la complexitÃ© appropriÃ©s',
        'tts_title': 'SynthÃ¨se Vocale',
        'tts_description': 'Convertit les rÃ©sumÃ©s d\'articles en voix naturelle',
        'tts_api_label': 'API TTS:',
        'tts_free_api': 'API Gratuit',
        'tts_elevenlabs': 'ElevenLabs (ClÃ© API PersonnalisÃ©e)',
        'enter_api_key': 'Entrez votre clÃ© API ElevenLabs',
        'save_button': 'Enregistrer',
        
        // Article caching
        'article_caching_title': 'Mise en cache des Articles',
        'article_caching_description': 'Enregistre les articles et les images localement pour rÃ©duire les temps de chargement et l\'utilisation de l\'API',
        
        // Donation banner
        'support_title': 'Soutenez Genipedia',
        'support_message': 'Si Genipedia est gratuit, c\'est grÃ¢ce aux dons. Merci de considÃ©rer un don pour maintenir le projet en vie et couvrir les coÃ»ts des API.',
        'support_button': 'Soutenir sur Ko-Fi',
        'maybe_later': 'Peut-Ãªtre plus tard',
        
        // Customization
        'customization': 'Personnalisation',
        'theme': 'ThÃ¨me',
        'light_theme': 'Clair',
        'dark_theme': 'Sombre',
        'accent_color': 'Couleur d\'accent',
        'font_family': 'Police',
        'font_size': 'Taille de police',
        'small': 'Petite',
        'medium': 'Moyenne',
        'large': 'Grande',
        'close': 'Fermer',
        
        // API Settings
        'api_settings': 'ParamÃ¨tres API',
        'elevenlabs_api_key': 'ClÃ© API ElevenLabs',
        'api_key_info': 'NÃ©cessaire pour la fonctionnalitÃ© de synthÃ¨se vocale. Obtenez votre clÃ© API sur',
        'save_api_key': 'Enregistrer',
        'api_key_saved': 'ClÃ© API enregistrÃ©e avec succÃ¨s',
        'api_key_set': 'La clÃ© API est dÃ©finie',
        'api_key_invalid': 'Veuillez entrer une clÃ© API valide',
        
        // Error messages
        'error_title': 'Erreur de gÃ©nÃ©ration d\'article',
        'error_message': 'DÃ©solÃ©, nous n\'avons pas pu gÃ©nÃ©rer un article pour votre requÃªte. Veuillez rÃ©essayer plus tard.',
        
        // Beta Features
        'ai_image_suggestion': 'Suggestion d\'Images par IA',
        'ai_image_suggestion_desc': 'Utilise l\'IA pour suggÃ©rer de meilleurs termes de recherche d\'images pour des articles plus pertinents',
        'text_to_speech': 'SynthÃ¨se Vocale',
        'text_to_speech_desc': 'Convertit les rÃ©sumÃ©s d\'articles en voix naturelle avec ElevenLabs',
        'beta_info': 'Les fonctionnalitÃ©s bÃªta peuvent ne pas fonctionner parfaitement et pourraient affecter les performances.',
        'licenses': 'Licences',
        'report_bug': 'Signaler un Bug',
        'contact_us': 'Si vous avez rencontrÃ© un bug ou avez des problÃ¨mes avec Genipedia, veuillez nous contacter Ã  :',
        
        // Top banner
        'top_banner_message': 'ðŸŽ‰ La premiÃ¨re version de Genipedia est disponible ðŸŽ‰  Pensez Ã  faire un don ! ',
        'donate_button': 'Faire un don',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Cette fonctionnalitÃ© utilise l\'IA pour suggÃ©rer de meilleurs termes de recherche d\'images pour des rÃ©sultats plus pertinents. Les fonctionnalitÃ©s bÃªta peuvent ne pas fonctionner parfaitement et pourraient affecter les performances.',
        'age_targeted_tooltip': 'Cette fonctionnalitÃ© adapte le style d\'Ã©criture Ã  des groupes d\'Ã¢ge spÃ©cifiques. Lorsqu\'elle est activÃ©e, elle remplace les styles d\'Ã©criture standard par des options ciblÃ©es par Ã¢ge.',
        'tts_tooltip': 'Cette fonctionnalitÃ© utilise la synthÃ¨se vocale pour convertir les rÃ©sumÃ©s d\'articles en discours. Par dÃ©faut, une API gratuite est utilisÃ©e, mais vous pouvez Ã©galement utiliser ElevenLabs pour une meilleure qualitÃ©.',
        'article_caching_tooltip': 'Cette fonctionnalitÃ© enregistre les articles et les images localement pour rÃ©duire les temps de chargement et l\'utilisation de l\'API. DÃ©sactivez-la si vous prÃ©fÃ©rez ne pas stocker de contenu sur votre appareil.',
    },
    
    // Spanish
    'es': {
        // Search
        'search_placeholder': 'Buscar cualquier tema...',
        'search_button': 'Buscar',
        'estimated_time': 'Tiempo de espera estimado: {0} segundos',
        'history_toggle': 'Historial de bÃºsqueda',
        'no_history': 'AÃºn no hay historial de bÃºsqueda',
        'delete_from_history': 'Eliminar del historial',
        
        // Writing styles
        'writing_style': 'Estilo de escritura',
        'style_normal': 'Normal',
        'style_formal': 'Formal',
        'style_accessible': 'Accesible',
        'style_explanatory': 'Explicativo',
        'style_concise': 'Conciso',
        
        // Age-targeted writing styles
        'age_0_10': 'Edad 0-10',
        'age_11_16': 'Edad 11-16',
        'age_17_25': 'Edad 17-25',
        'age_25_plus': 'Edad 25+',
        
        // Audio player
        'listen_to_summary': 'Escuchar el resumen',
        'tts_not_available': 'La sÃ­ntesis de voz no estÃ¡ disponible para este artÃ­culo.',
        
        // Article
        'contents': 'Contenido',
        'references': 'Referencias',
        'geek_metrics': 'MÃ©tricas de GeneraciÃ³n',
        'generation_time': 'Tiempo de generaciÃ³n: {0}s',
        'tokens_used': 'Tokens utilizados: ~{0}',
        'estimated_cost': 'Costo estimado: ${0}',
        
        // AI warning
        'ai_warning_title': 'Contenido generado por IA',
        'ai_warning_message': 'Este contenido fue generado por IA y puede contener inexactitudes. Verifique siempre la informaciÃ³n importante en fuentes confiables.',
        'i_understand': 'Entiendo',
        'remind_me_later': 'RecordÃ¡rmelo mÃ¡s tarde',
        
        // Customization modal
        'customize_title': 'Personalizar Genipedia',
        'theme_title': 'Tema',
        'theme_light': 'Claro',
        'theme_dark': 'Oscuro',
        'accent_color_title': 'Color de acento',
        'font_title': 'Tipo de letra',
        'font_size_title': 'TamaÃ±o de letra',
        'beta_features_title': 'Funciones Beta',
        'licenses_button': 'Licencias',
        'image_suggestion_title': 'Sugerencia de ImÃ¡genes por IA',
        'image_suggestion_description': 'Utiliza IA para sugerir mejores tÃ©rminos de bÃºsqueda de imÃ¡genes para artÃ­culos mÃ¡s relevantes',
        'age_targeted_title': 'Escritura Ã‚ge-Ciblada',
        'age_targeted_description': 'Adapta el contenido a grupos de edad con vocabulario y complejidad apropiados',
        'tts_title': 'Texto a Voz',
        'tts_description': 'Convierte resÃºmenes de artÃ­culos en voz natural',
        'tts_api_label': 'API TTS:',
        'tts_free_api': 'API Gratuita',
        'tts_elevenlabs': 'ElevenLabs (Clave API Personalizada)',
        'enter_api_key': 'Ingrese su clave API ElevenLabs',
        'save_button': 'Guardar',
        
        // Article caching
        'article_caching_title': 'Almacenamiento de ArtÃ­culos',
        'article_caching_description': 'Guarda artÃ­culos y imÃ¡genes localmente para reducir los tiempos de carga y el uso de la API',
        
        // Donation banner
        'support_title': 'Apoya a Genipedia',
        'support_message': 'Si Genipedia es gratuito, es gracias a las donaciones. Por favor, considera donar para mantener vivo el proyecto y cubrir los costos de API.',
        'support_button': 'Apoyar en Ko-Fi',
        'maybe_later': 'QuizÃ¡s mÃ¡s tarde',
        
        // Customization
        'customization': 'PersonalizaciÃ³n',
        'theme': 'Tema',
        'light_theme': 'Claro',
        'dark_theme': 'Oscuro',
        'accent_color': 'Color de acento',
        'font_family': 'Tipo de letra',
        'font_size': 'TamaÃ±o de letra',
        'small': 'PequeÃ±o',
        'medium': 'Mediano',
        'large': 'Grande',
        'close': 'Cerrar',
        
        // API Settings
        'api_settings': 'ConfiguraciÃ³n API',
        'elevenlabs_api_key': 'Clave API ElevenLabs',
        'api_key_info': 'Necesario para la funcionalidad de sÃ­ntesis de voz. Obtener su clave API en',
        'save_api_key': 'Guardar',
        'api_key_saved': 'Clave API guardada correctamente',
        'api_key_set': 'La clave API estÃ¡ configurada',
        'api_key_invalid': 'Ingrese una clave API vÃ¡lida',
        
        // Error messages
        'error_title': 'Error al generar el artÃ­culo',
        'error_message': 'Lo sentimos, no pudimos generar un artÃ­culo para su consulta. Por favor, intÃ©ntelo de nuevo mÃ¡s tarde.',
        
        // Beta Features
        'ai_image_suggestion': 'Sugerencia de ImÃ¡genes por IA',
        'ai_image_suggestion_desc': 'Utiliza IA para sugerir mejores tÃ©rminos de bÃºsqueda de imÃ¡genes para artÃ­culos mÃ¡s relevantes',
        'text_to_speech': 'Texto a Voz',
        'text_to_speech_desc': 'Convierte resÃºmenes de artÃ­culos en voz natural usando ElevenLabs',
        'beta_info': 'Las funciones beta pueden no funcionar perfectamente y podrÃ­an afectar el rendimiento.',
        'licenses': 'Licencias',
        'report_bug': 'Reportar un Error',
        'contact_us': 'Si has encontrado un error o tienes problemas con Genipedia, contÃ¡ctanos en:',
        
        // Top banner
        'top_banner_message': 'ðŸŽ‰ La primera versiÃ³n de Genipedia estÃ¡ disponible ðŸŽ‰  Considera donar!',
        'donate_button': 'Donar',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Esta funciÃ³n utiliza IA para sugerir mejores tÃ©rminos de bÃºsqueda de imÃ¡genes para resultados mÃ¡s relevantes. Las funciones beta pueden no funcionar perfectamente y podrÃ­an afectar el rendimiento.',
        'age_targeted_tooltip': 'Esta funciÃ³n adapta el estilo de escritura a grupos de edad especÃ­ficos. Cuando estÃ¡ habilitada, reemplaza los estilos de escritura estÃ¡ndar con opciones dirigidas por edad.',
        'tts_tooltip': 'Esta funciÃ³n utiliza texto a voz para convertir los resÃºmenes de artÃ­culos en discurso. Por defecto, se utiliza una API gratuita, pero tambiÃ©n puede usar ElevenLabs para una mayor calidad.',
        'article_caching_tooltip': 'Esta funciÃ³n guarda artÃ­culos e imÃ¡genes localmente para reducir los tiempos de carga y el uso de API. DesactÃ­vela si prefiere no almacenar contenido en su dispositivo.',
    },
    
    // German
    'de': {
        // Search
        'search_placeholder': 'Suche nach einem Thema...',
        'search_button': 'Suchen',
        'estimated_time': 'GeschÃ¤tzte Wartezeit: {0} Sekunden',
        'history_toggle': 'Suchverlauf',
        'no_history': 'Noch kein Suchverlauf',
        'delete_from_history': 'Aus Verlauf lÃ¶schen',
        
        // Writing styles
        'writing_style': 'Schreibstil',
        'style_normal': 'Normal',
        'style_formal': 'Formell',
        'style_accessible': 'ZugÃ¤nglich',
        'style_explanatory': 'ErklÃ¤rend',
        'style_concise': 'PrÃ¤gnant',
        
        // Age-targeted writing styles
        'age_0_10': 'Alter 0-10',
        'age_11_16': 'Alter 11-16',
        'age_17_25': 'Alter 17-25',
        'age_25_plus': 'Alter 25+',
        
        // Audio player
        'listen_to_summary': 'Zusammenfassung anhÃ¶ren',
        'tts_not_available': 'Text-to-Speech ist fÃ¼r diesen Artikel nicht verfÃ¼gbar.',
        
        // Article
        'contents': 'Inhalt',
        'references': 'Referenzen',
        'geek_metrics': 'Generierungsmetriken',
        'generation_time': 'Generierungszeit: {0}s',
        'tokens_used': 'Verwendete Tokens: ~{0}',
        'estimated_cost': 'GeschÃ¤tzte Kosten: ${0}',
        
        // AI warning
        'ai_warning_title': 'KI-generierter Inhalt',
        'ai_warning_message': 'Dieser Inhalt wurde von einer KI generiert und kann Ungenauigkeiten enthalten. ÃœberprÃ¼fen Sie wichtige Informationen immer anhand zuverlÃ¤ssiger Quellen.',
        'i_understand': 'Ich verstehe',
        'remind_me_later': 'SpÃ¤ter erinnern',
        
        // Customization modal
        'customize_title': 'Genipedia anpassen',
        'theme_title': 'Thema',
        'theme_light': 'Hell',
        'theme_dark': 'Dunkel',
        'accent_color_title': 'Akzentfarbe',
        'font_title': 'Schriftart',
        'font_size_title': 'SchriftgrÃ¶ÃŸe',
        'beta_features_title': 'Beta-Funktionen',
        'licenses_button': 'Lizenzen',
        'image_suggestion_title': 'KI-BildvorschlÃ¤ge',
        'image_suggestion_description': 'Verwendet KI, um bessere Bildsuchbegriffe fÃ¼r relevantere Artikelbilder vorzuschlagen',
        'age_targeted_title': 'Ã‚ge-zielende Schrift',
        'age_targeted_description': 'Passt den Inhalt an bestimmte Altersgruppen mit dem passenden Vokabular und der KomplexitÃ¤t an',
        'tts_title': 'Text-zu-Sprache',
        'tts_description': 'Konvertiert Artikelzusammenfassungen in natÃ¼rlich klingende Sprache',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'Freie API',
        'tts_elevenlabs': 'ElevenLabs (Custom API Key)',
        'enter_api_key': 'ElevenLabs API-SchlÃ¼ssel eingeben',
        'save_button': 'Speichern',
        
        // Article caching
        'article_caching_title': 'Artikel-Caching',
        'article_caching_description': 'Artikel und Bilder lokal speichern, um Ladezeiten und API-Nutzung zu reduzieren',
        
        // Donation banner
        'support_title': 'UnterstÃ¼tze Genipedia',
        'support_message': 'Wenn Genipedia kostenlos ist, dann dank Spenden. Bitte erwÃ¤ge eine Spende, um das Projekt am Leben zu erhalten und die API-Kosten zu decken.',
        'support_button': 'Auf Ko-Fi unterstÃ¼tzen',
        'maybe_later': 'Vielleicht spÃ¤ter',
        
        // Customization
        'customization': 'Anpassung',
        'theme': 'Thema',
        'light_theme': 'Hell',
        'dark_theme': 'Dunkel',
        'accent_color': 'Akzentfarbe',
        'font_family': 'Schriftart',
        'font_size': 'SchriftgrÃ¶ÃŸe',
        'small': 'Klein',
        'medium': 'Mittel',
        'large': 'GroÃŸ',
        'close': 'SchlieÃŸen',
        
        // API Settings
        'api_settings': 'API-Einstellungen',
        'elevenlabs_api_key': 'ElevenLabs API-SchlÃ¼ssel',
        'api_key_info': 'Erforderlich fÃ¼r die Sprachsynthese. API-SchlÃ¼ssel erhalten Sie von',
        'save_api_key': 'Speichern',
        'api_key_saved': 'API-SchlÃ¼ssel erfolgreich gespeichert',
        'api_key_set': 'API-SchlÃ¼ssel ist eingestellt',
        'api_key_invalid': 'Geben Sie eine gÃ¼ltige API-SchlÃ¼ssel ein',
        
        // Error messages
        'error_title': 'Fehler beim Generieren des Artikels',
        'error_message': 'Entschuldigung, wir konnten keinen Artikel fÃ¼r Ihre Anfrage generieren. Bitte versuchen Sie es spÃ¤ter erneut.',
        
        // Beta Features
        'ai_image_suggestion': 'KI-BildvorschlÃ¤ge',
        'ai_image_suggestion_desc': 'Verwendet KI, um bessere Bildsuchbegriffe fÃ¼r relevantere Artikelbilder vorzuschlagen',
        'text_to_speech': 'Text-zu-Sprache',
        'text_to_speech_desc': 'Konvertiert Artikelzusammenfassungen in natÃ¼rlich klingende Sprache mit ElevenLabs',
        'beta_info': 'Beta-Funktionen funktionieren mÃ¶glicherweise nicht perfekt und kÃ¶nnten die Leistung beeintrÃ¤chtigen.',
        'licenses': 'Lizenzen',
        'report_bug': 'Fehler Melden',
        'contact_us': 'Wenn Sie einen Fehler gefunden haben oder Probleme mit Genipedia haben, kontaktieren Sie uns bitte unter:',
        
        // Top banner
        'top_banner_message': 'ðŸŽ‰ Die erste Version von Genipedia ist verfÃ¼gbar ðŸŽ‰  Spenden Sie bitte!',
        'donate_button': 'Spenden',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'Diese Funktion verwendet KI, um bessere Bildsuchbegriffe fÃ¼r relevantere Ergebnisse vorzuschlagen. Beta-Funktionen funktionieren mÃ¶glicherweise nicht perfekt und kÃ¶nnten die Leistung beeintrÃ¤chtigen.',
        'age_targeted_tooltip': 'Diese Funktion passt den Schreibstil an bestimmte Altersgruppen an. Wenn aktiviert, ersetzt sie die Standard-Schreibstile durch altersspezifische Optionen.',
        'tts_tooltip': 'Diese Funktion verwendet Text-zu-Sprache, um Artikelzusammenfassungen in Sprache umzuwandeln. StandardmÃ¤ÃŸig wird eine kostenlose API verwendet, aber Sie kÃ¶nnen auch ElevenLabs fÃ¼r hÃ¶here QualitÃ¤t verwenden.',
        'article_caching_tooltip': 'Diese Funktion speichert Artikel und Bilder lokal, um Ladezeiten und API-Nutzung zu reduzieren. Deaktivieren Sie sie, wenn Sie es vorziehen, keine Inhalte auf Ihrem GerÃ¤t zu speichern.',
    },
    
    // Japanese
    'ja': {
        // Search
        'search_placeholder': 'ãƒˆãƒ”ãƒƒã‚¯ã‚’æ¤œç´¢...',
        'search_button': 'æ¤œç´¢',
        'estimated_time': 'æŽ¨å®šå¾…ã¡æ™‚é–“: {0}ç§’',
        'history_toggle': 'æ¤œç´¢å±¥æ­´',
        'no_history': 'æ¤œç´¢å±¥æ­´ã¯ã‚ã‚Šã¾ã›ã‚“',
        'delete_from_history': 'å±¥æ­´ã‹ã‚‰å‰Šé™¤',
        
        // Writing styles
        'writing_style': 'æ–‡ä½“',
        'style_normal': 'æ¨™æº–',
        'style_formal': 'å½¢å¼çš„',
        'style_accessible': 'åˆ†ã‹ã‚Šã‚„ã™ã„',
        'style_explanatory': 'èª¬æ˜Žçš„',
        'style_concise': 'ç°¡æ½”',
        
        // Age-targeted writing styles
        'age_0_10': 'å¹´é½¢ 0-10',
        'age_11_16': 'å¹´é½¢ 11-16',
        'age_17_25': 'å¹´é½¢ 17-25',
        'age_25_plus': 'å¹´é½¢ 25+',
        
        // Audio player
        'listen_to_summary': 'è¦ç´„ã‚’èžã',
        'tts_not_available': 'ã“ã®è¨˜äº‹ã§ã¯éŸ³å£°èª­ã¿ä¸Šã’ã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚',
        
        // Article
        'contents': 'ç›®æ¬¡',
        'references': 'å‚è€ƒæ–‡çŒ®',
        'geek_metrics': 'ç”Ÿæˆãƒ¡ãƒˆãƒªã‚¯ã‚¹',
        'generation_time': 'ç”Ÿæˆæ™‚é–“: {0}ç§’',
        'tokens_used': 'ä½¿ç”¨ãƒˆãƒ¼ã‚¯ãƒ³æ•°: ~{0}',
        'estimated_cost': 'æŽ¨å®šã‚³ã‚¹ãƒˆ: ${0}',
        
        // AI warning
        'ai_warning_title': 'AIç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„',
        'ai_warning_message': 'ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯AIã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¦ãŠã‚Šã€ä¸æ­£ç¢ºãªæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚é‡è¦ãªæƒ…å ±ã¯ä¿¡é ¼ã§ãã‚‹æƒ…å ±æºã§å¿…ãšç¢ºèªã—ã¦ãã ã•ã„ã€‚',
        'i_understand': 'ç†è§£ã—ã¾ã—ãŸ',
        'remind_me_later': 'å¾Œã§é€šçŸ¥',
        
        // Customization modal
        'customize_title': 'Genipediaã‚’ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º',
        'theme_title': 'ãƒ†ãƒ¼ãƒž',
        'theme_light': 'ãƒ©ã‚¤ãƒˆ',
        'theme_dark': 'ãƒ€ãƒ¼ã‚¯',
        'accent_color_title': 'ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼',
        'font_title': 'ãƒ•ã‚©ãƒ³ãƒˆ',
        'font_size_title': 'ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º',
        'beta_features_title': 'ãƒ™ãƒ¼ã‚¿æ©Ÿèƒ½',
        'licenses_button': 'ãƒ©ã‚¤ã‚»ãƒ³ã‚¹',
        'image_suggestion_title': 'AIç”»åƒææ¡ˆ',
        'image_suggestion_description': 'AIã‚’ä½¿ç”¨ã—ã¦ã‚ˆã‚Šé–¢é€£æ€§ã®é«˜ã„è¨˜äº‹ç”»åƒã®ãŸã‚ã®æ¤œç´¢ç”¨èªžã‚’ææ¡ˆ',
        'age_targeted_title': 'å¹´é½¢åˆ¥æ–‡ç« ',
        'age_targeted_description': 'é©åˆ‡ãªè¨€è‘‰é£ã„ã¨è¤‡é›‘ã•ã§å†…å®¹ã‚’å¹´é½¢å±¤ã«åˆã‚ã›ã‚‹',
        'tts_title': 'éŸ³å£°èª­ã¿ä¸Šã’',
        'tts_description': 'è¨˜äº‹ã®è¦ç´„ã‚’è‡ªç„¶ãªå£°ã«å¤‰æ›',
        'tts_api_label': 'TTS API:',
        'tts_free_api': 'ç„¡æ–™API',
        'tts_elevenlabs': 'ElevenLabs (ã‚«ã‚¹ã‚¿ãƒ APIã‚­ãƒ¼)',
        'enter_api_key': 'ElevenLabs APIã‚­ãƒ¼ã‚’å…¥åŠ›',
        'save_button': 'ä¿å­˜',
        
        // Article caching
        'article_caching_title': 'è¨˜äº‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥',
        'article_caching_description': 'è¨˜äº‹ã¨ç”»åƒã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã—ã¦ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã¨APIä½¿ç”¨ã‚’å‰Šæ¸›',
        
        // Donation banner
        'support_title': 'Genipediaã‚’ã‚µãƒãƒ¼ãƒˆ',
        'support_message': 'GenipediaãŒç„¡æ–™ã§åˆ©ç”¨ã§ãã‚‹ã®ã¯ã€å¯„ä»˜ã®ãŠã‹ã’ã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¶™ç¶šã¨APIã‚³ã‚¹ãƒˆã‚’ã‚«ãƒãƒ¼ã™ã‚‹ãŸã‚ã«ã€ã”å¯„ä»˜ã‚’ã”æ¤œè¨Žãã ã•ã„ã€‚',
        'support_button': 'Ko-Fiã§ã‚µãƒãƒ¼ãƒˆ',
        'maybe_later': 'å¾Œã§',
        
        // Customization
        'customization': 'ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º',
        'theme': 'ãƒ†ãƒ¼ãƒž',
        'light_theme': 'ãƒ©ã‚¤ãƒˆ',
        'dark_theme': 'ãƒ€ãƒ¼ã‚¯',
        'accent_color': 'ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼',
        'font_family': 'ãƒ•ã‚©ãƒ³ãƒˆ',
        'font_size': 'ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º',
        'small': 'å°',
        'medium': 'ä¸­',
        'large': 'å¤§',
        'close': 'é–‰ã˜ã‚‹',
        
        // API Settings
        'api_settings': 'APIè¨­å®š',
        'elevenlabs_api_key': 'ElevenLabs APIã‚­ãƒ¼',
        'api_key_info': 'éŸ³å£°èª­ã¿ä¸Šã’æ©Ÿèƒ½ã«å¿…è¦ã§ã™ã€‚APIã‚­ãƒ¼ã®å–å¾—å…ˆ:',
        'save_api_key': 'ä¿å­˜',
        'api_key_saved': 'APIã‚­ãƒ¼ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸ',
        'api_key_set': 'APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™',
        'api_key_invalid': 'æœ‰åŠ¹ãªAPIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
        
        // Error messages
        'error_title': 'è¨˜äº‹ç”Ÿæˆã‚¨ãƒ©ãƒ¼',
        'error_message': 'ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¯ã‚¨ãƒªã«å¯¾ã™ã‚‹è¨˜äº‹ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ã§ã—ãŸã€‚å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚',
        
        // Beta Features
        'ai_image_suggestion': 'AIç”»åƒææ¡ˆ',
        'ai_image_suggestion_desc': 'AIã‚’ä½¿ç”¨ã—ã¦ã‚ˆã‚Šé–¢é€£æ€§ã®é«˜ã„è¨˜äº‹ç”»åƒã®ãŸã‚ã®æ¤œç´¢ç”¨èªžã‚’ææ¡ˆ',
        'text_to_speech': 'éŸ³å£°èª­ã¿ä¸Šã’',
        'text_to_speech_desc': 'ElevenLabsã‚’ä½¿ç”¨ã—ã¦è¨˜äº‹ã®è¦ç´„ã‚’è‡ªç„¶ãªéŸ³å£°ã«å¤‰æ›',
        'beta_info': 'ãƒ™ãƒ¼ã‚¿æ©Ÿèƒ½ã¯å®Œå…¨ã«ã¯å‹•ä½œã›ãšã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸Žãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚',
        'licenses': 'ãƒ©ã‚¤ã‚»ãƒ³ã‚¹',
        'report_bug': 'ãƒã‚°ã‚’å ±å‘Š',
        'contact_us': 'ãƒã‚°ãŒç™ºç”Ÿã—ãŸå ´åˆã‚„ã€Genipediaã«é–¢ã™ã‚‹å•é¡ŒãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ã§ã”é€£çµ¡ãã ã•ã„ï¼š',
        
        // Top banner
        'top_banner_message': 'ðŸŽ‰ Genipediaã®æœ€åˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã—ãŸ ðŸŽ‰ å¯„ä»˜ã‚’ã”æ¤œè¨Žãã ã•ã„',
        'donate_button': 'å¯„ä»˜ã™ã‚‹',
        
        // Beta Feature Tooltips
        'image_suggestion_tooltip': 'ã“ã®æ©Ÿèƒ½ã¯AIã‚’ä½¿ç”¨ã—ã¦ã€ã‚ˆã‚Šé–¢é€£æ€§ã®é«˜ã„çµæžœã‚’å¾—ã‚‹ãŸã‚ã«ã€ã‚ˆã‚Šé©åˆ‡ãªç”»åƒæ¤œç´¢ç”¨èªžã‚’ææ¡ˆã—ã¾ã™ã€‚ãƒ™ãƒ¼ã‚¿æ©Ÿèƒ½ã¯å®Œå…¨ã«æ©Ÿèƒ½ã—ãªã„å ´åˆãŒã‚ã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸Žãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚',
        'age_targeted_tooltip': 'ã“ã®æ©Ÿèƒ½ã¯ç‰¹å®šã®å¹´é½¢å±¤ã«åˆã‚ã›ã¦æ–‡ç« ã‚¹ã‚¿ã‚¤ãƒ«ã‚’èª¿æ•´ã—ã¾ã™ã€‚æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€æ¨™æº–ã®æ–‡ç« ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¹´é½¢åˆ¥ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ç½®ãæ›ã‚ã‚Šã¾ã™ã€‚',
        'tts_tooltip': 'ã“ã®æ©Ÿèƒ½ã¯ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã‚’ä½¿ç”¨ã—ã¦ã€è¨˜äº‹ã®è¦ç´„ã‚’éŸ³å£°ã«å¤‰æ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ç„¡æ–™ã®APIãŒä½¿ç”¨ã•ã‚Œã¾ã™ãŒã€ã‚ˆã‚Šé«˜å“è³ªã®ãŸã‚ã«ElevenLabsã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚',
        'article_caching_tooltip': 'ã“ã®æ©Ÿèƒ½ã¯è¨˜äº‹ã¨ç”»åƒã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã—ã€èª­ã¿è¾¼ã¿æ™‚é–“ã¨APIä½¿ç”¨é‡ã‚’å‰Šæ¸›ã—ã¾ã™ã€‚ãƒ‡ãƒã‚¤ã‚¹ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä¿å­˜ã—ãŸããªã„å ´åˆã¯ç„¡åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚',
    }
};

// Initialize the global AIPediaLocales object
window.AIPediaLocales = {
    locales: locales,
    
    /**
     * Gets a localized string by key
     * @param {string} key - The key to look up
     * @param {...any} args - Arguments to replace placeholders in the string
 * @returns {string} - The localized string
 */
    getLocaleString: function(key, ...args) {
    // Get the current locale data
    const localeData = locales[currentLocale] || locales['en'];
    
    // Get the string from the locale data
        let str = localeData[key] || key;
    
    // Replace placeholders with arguments
    if (args.length > 0) {
            args.forEach((arg, index) => {
                str = str.replace(`{${index}}`, arg);
        });
    }
    
    return str;
    },

/**
 * Sets the current locale
 * @param {string} locale - The locale code to set
 */
    setLocale: function(locale) {
    if (locales[locale]) {
        currentLocale = locale;
            // Save the locale to localStorage
            localStorage.setItem('aipedia_locale', locale);
            console.log('Locale set to:', locale);
            
            // Update UI with new locale
            this.updateUIWithLocale();
    } else {
            console.warn('Locale not found:', locale);
        }
    },
    
    /**
     * Gets the current locale
     * @returns {string} - The current locale code
     */
    getLocale: function() {
        return currentLocale;
    },

/**
 * Loads the saved locale from localStorage
 */
    loadSavedLocale: function() {
        try {
            // Try to get the browser language first if no saved locale
            const savedLocale = localStorage.getItem('aipedia_locale') || navigator.language.split('-')[0];
            
            if (savedLocale) {
                this.setLocale(savedLocale);
                
                // Update the language selector to match the saved locale
                const languageSelect = document.getElementById('language-select');
                if (languageSelect) {
                    // Check if the saved locale is available in the options
                    const options = Array.from(languageSelect.options);
                    const localeOption = options.find(option => option.value === savedLocale);
                    
                    if (localeOption) {
                        languageSelect.value = savedLocale;
                    }
                }
            }
        } catch (error) {
            console.error('Error loading saved locale:', error);
        }
    },
    
    /**
     * Updates the UI with the current locale
     */
    updateUIWithLocale: function() {
        try {
            // Update search placeholder
            const searchBar = document.getElementById('search-bar');
            if (searchBar) {
                searchBar.placeholder = this.getLocaleString('search_placeholder');
            }
            
            // Update search button
            const searchButton = document.getElementById('search-button');
            if (searchButton) {
                searchButton.textContent = this.getLocaleString('search_button');
            }
            
            // Update history toggle
            const historyToggle = document.querySelector('.history-toggle-text');
            if (historyToggle) {
                historyToggle.textContent = this.getLocaleString('history_toggle');
            }

            // Update writing style select label and options
            const writingStyleSelect = document.getElementById('writing-style-select');
            if (writingStyleSelect) {
                // Only update standard writing styles, not age-targeted ones
                const standardStyles = ['normal', 'formal', 'accessible', 'explanatory', 'concise'];
                const options = writingStyleSelect.options;
                
                for (let i = 0; i < options.length; i++) {
                    const option = options[i];
                    // Only update if it's a standard style
                    if (standardStyles.includes(option.value)) {
                        const styleKey = `style_${option.value}`;
                        option.textContent = this.getLocaleString(styleKey);
                    }
                }
            }
            
            // Update customization modal
            const customizeTitle = document.getElementById('customize-title');
            if (customizeTitle) {
                customizeTitle.textContent = this.getLocaleString('customize_title');
            }
            
            const themeTitle = document.getElementById('theme-title');
            if (themeTitle) {
                themeTitle.textContent = this.getLocaleString('theme_title');
            }
            
            const themeLightText = document.getElementById('theme-light-text');
            if (themeLightText) {
                themeLightText.textContent = this.getLocaleString('theme_light');
            }
            
            const themeDarkText = document.getElementById('theme-dark-text');
            if (themeDarkText) {
                themeDarkText.textContent = this.getLocaleString('theme_dark');
            }
            
            const accentColorTitle = document.getElementById('accent-color-title');
            if (accentColorTitle) {
                accentColorTitle.textContent = this.getLocaleString('accent_color_title');
            }
            
            const fontTitle = document.getElementById('font-title');
            if (fontTitle) {
                fontTitle.textContent = this.getLocaleString('font_title');
            }
            
            const fontSizeTitle = document.getElementById('font-size-title');
            if (fontSizeTitle) {
                fontSizeTitle.textContent = this.getLocaleString('font_size_title');
            }
            
            // Update beta features titles and descriptions
            const betaFeaturesTitle = document.getElementById('beta-features-title');
            if (betaFeaturesTitle) {
                betaFeaturesTitle.textContent = this.getLocaleString('beta_features_title');
            }
            
            // Image suggestion beta feature
            const imageSuggestionLabel = document.getElementById('image-suggestion-label');
            if (imageSuggestionLabel) {
                imageSuggestionLabel.textContent = this.getLocaleString('image_suggestion_title');
            }
            
            const imageSuggestionDesc = imageSuggestionLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (imageSuggestionDesc) {
                imageSuggestionDesc.textContent = this.getLocaleString('image_suggestion_description');
            }
            
            // Add tooltip translation for image suggestion
            const imageSuggestionTooltip = imageSuggestionLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (imageSuggestionTooltip) {
                imageSuggestionTooltip.textContent = this.getLocaleString('image_suggestion_tooltip');
            }
            
            // Age-targeted beta feature
            const ageTargetedLabel = document.getElementById('age-targeted-label');
            if (ageTargetedLabel) {
                ageTargetedLabel.textContent = this.getLocaleString('age_targeted_title');
            }
            
            const ageTargetedDesc = ageTargetedLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (ageTargetedDesc) {
                ageTargetedDesc.textContent = this.getLocaleString('age_targeted_description');
            }
            
            // Add tooltip translation for age-targeted
            const ageTargetedTooltip = ageTargetedLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (ageTargetedTooltip) {
                ageTargetedTooltip.textContent = this.getLocaleString('age_targeted_tooltip');
            }
            
            // Text-to-speech beta feature
            const elevenlabsLabel = document.getElementById('elevenlabs-label');
            if (elevenlabsLabel) {
                // Keep the beta tag and add the translation
                const betaTag = elevenlabsLabel.querySelector('.beta-tag');
                if (betaTag) {
                    elevenlabsLabel.textContent = '';
                    elevenlabsLabel.appendChild(betaTag);
                    elevenlabsLabel.appendChild(document.createTextNode(' ' + this.getLocaleString('tts_title')));
                } else {
                    elevenlabsLabel.textContent = this.getLocaleString('tts_title');
                }
            }
            
            const ttsDesc = elevenlabsLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (ttsDesc) {
                ttsDesc.textContent = this.getLocaleString('tts_description');
            }
            
            // Add tooltip translation for text-to-speech
            const ttsTooltip = elevenlabsLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (ttsTooltip) {
                ttsTooltip.textContent = this.getLocaleString('tts_tooltip');
            }
            
            // Article caching beta feature
            const articleCachingLabel = document.getElementById('article-caching-label');
            if (articleCachingLabel) {
                // Keep the beta tag and add the translation
                const betaTag = articleCachingLabel.querySelector('.beta-tag');
                if (betaTag) {
                    articleCachingLabel.textContent = '';
                    articleCachingLabel.appendChild(betaTag);
                    articleCachingLabel.appendChild(document.createTextNode(' ' + this.getLocaleString('article_caching_title')));
                } else {
                    articleCachingLabel.textContent = this.getLocaleString('article_caching_title');
                }
            }
            
            const cachingDesc = articleCachingLabel?.closest('.beta-feature')?.querySelector('.beta-feature-description');
            if (cachingDesc) {
                cachingDesc.textContent = this.getLocaleString('article_caching_description');
            }
            
            // Add tooltip translation for article caching
            const cachingTooltip = articleCachingLabel?.closest('.beta-feature')?.querySelector('.beta-tooltip');
            if (cachingTooltip) {
                cachingTooltip.textContent = this.getLocaleString('article_caching_tooltip');
            }
            
            // Update other UI elements as needed
            console.log('UI updated with locale:', currentLocale);
        } catch (error) {
            console.error('Error updating UI with locale:', error);
        }
    }
};

// Export functions for browser
if (typeof window !== 'undefined') {
    // When loaded as a regular script in the browser
    window.getLocaleString = (key, ...args) => window.AIPediaLocales.getLocaleString(key, ...args);
    window.setLocale = (locale) => window.AIPediaLocales.setLocale(locale);
    window.getLocale = () => window.AIPediaLocales.getLocale();
    window.updateUIWithLocale = () => window.AIPediaLocales.updateUIWithLocale();
    window.loadSavedLocale = () => window.AIPediaLocales.loadSavedLocale();
}

// For CommonJS environments
if (typeof module !== 'undefined' && module.exports) {
    module.exports = window.AIPediaLocales;
} 